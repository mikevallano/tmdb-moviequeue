<% content_for(:title, "My Lists") %>

<h1>My Movie Lists</h1>

<%= link_to 'New List'.html_safe, new_user_list_path(current_user), class: 'btn' %></p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Description</th>
      <th>Movie Count</th>
      <th>Public/Private</th>
      <th>View</th>
      <th>Owner</th>
      <th>Manage</th>
    </tr>
  </thead>
  <tbody>
    <% @lists.order(name: :asc).each do |list| %>
      <tr>
        <td><%= link_to list.name.titlecase, user_list_path(list.owner, list) %></td>
        <td><%= list.description %></td>
        <td><%= list.movies.size %></td>
        <td><%= public_private_display(list) %></td>
        <td><%= link_to 'View', user_list_path(list.owner, list), class: 'btn btn-sm' %></td>
        <td><%= list.owner.username %></td>
        <td>
          <% if current_user == list.owner %>
            <%= link_to 'Manage', edit_user_list_path(list.owner, list), class: 'btn btn-sm' %>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

